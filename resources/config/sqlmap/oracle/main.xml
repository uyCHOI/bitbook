<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.bitbook.mapper.MainMapper">

	<resultMap id="searchFriendsMap" type="searchFriends">
		<result column="mem_name" property="memName" />
		<result column="mem_no" property="memNo" />
		<result column="friends_no" property="friendsNo" />
		<result column="login" property="login" />
		<result column="profile_path" property="profilePath" />
		<result column="logout_date" property="logoutDate" />		
	</resultMap>
	
	
	<select id="searchMyFriends" resultMap="searchFriendsMap" parameterType="searchFriends">
 	 select mem_name, friends_no, login, profile_path, logout_date
	  from tb_friends f
	 inner join tb_member m
	    on f.friends_no = m.mem_no
	 where f.mem_no = #{memNo}
	   and m.mem_name like '%'||#{memName}||'%'
	 order by login 
 	</select>
	
	
</mapper>

















